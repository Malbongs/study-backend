<!DOCTYPE html>
<html lang="en">
<head>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js" integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

    <!-- 파일업로드 -->
    <!-- <form action="/upload/" method="post" enctype="multipart/form-data">
        <input type="file" name="userfile">
        <input type="text" name="name">
        <button type="submit">업로드</button>
    </form> -->


    <!-- 파일업로드 동적 -->
    <!-- <form>
        회원가입<br>
        아이디:<input type="text" name="id"><br>
        비밀번호:<input type="password" name="pass"><br>
        이름:<input type="text" name="name"><br>
        나이:<input type="text" name="age"><br>
        프로필 사진 선택
        <input type="file" name="userfile" id="file"><br>
        <button type="button" onclick="fileupload()">회원가입</button>
    </form>
    <div></div> -->
    <!-- get 방식 -->
    <!-- <form method="get" action="/get">
        <input type="text" name="name">
        <input type="text" name="gender">
        <button type="submit">전송</button>
        <button type="reset">리셋</button>
    </form> -->

    <!-- post방식 -->
    <!-- <form>
        이름:<input type="text" name="name" required><br>
        성별:
        <input type="radio" name="gender" value="남" required>남 
        <input type="radio" name="gender" value="여" required>여<br>
        생년월일:
        <select name="yy" required>
            <%for(var year=1900; year <2023; year++){%>
               <option value="<%=year%>"><%=year%></option>
                <% }%>
        </select>년
        <select name="mm" required>
            <%for(var month=1; month<13; month++){%>
                <option value="<%=month%>"><%=month%></option>
                 <% }%>
        </select>월
        <select name="dd" required>
            <%for(var day=1; day<32; day++){%>
                <option value="<%=day%>"><%=day%></option>
                 <% }%>
        </select>일<br>
        관심사:
        <input type="radio" name="hobby" value="여행">여행
        <input type="radio" name="hobby" value="패션">패션
        <input type="radio" name="hobby" value="음식">음식<br>
        <button type="button" onclick="going()">회원가입</button>
        <button type="reset">리셋</button> 
    </form> -->
    
    <form>
        ID:<input type="text" name="name"><br>
        PASS:<input type="password" name="password"><br>
        <button type="button" onclick="dynamicForm()">로그인</button>
    </form>
    <div></div>

        <!-- 이름:<input type="text" name="name"><br>
        성별:
        <input type="radio" name="gender" value="남자">남자
        <input type="radio" name="gender" value="여자">여자<br>
        <select name="yy">
            <%for(var i=1950; i<=2022; i++){%>
                <option value="<%=i%>"><%=i%></option>
            <%}%>
        </select>년
        <select name="mm">
            <%for(var m=1; m<=12; m++){%>
                <option value="<%=m%>"><%=m%></option>
            <%}%>
        </select>월
        <select name="dd">
            <%for(var d=1; d<=31; d++){%>
                <option value="<%=d%>"><%=d%></option>
            <%}%>일
        </select><br>
        <input type="radio" name="inter" value="여행">여행
        <input type="radio" name="inter" value="낚시">낚시
        <input type="radio" name="inter" value="요리">요리<br>
        <button type="button" onclick="dynamicForm()">제출</button> -->
    <!-- </form>
    <div></div> -->

    <script>

        //백단으로 get 방식 axios 써서 보내기
        // function going(){
        //     const form = document.querySelector("form");
        //     const data11 ={
        //         name:form.name.value,
        //         gender: form.gender.value,
        //         yy: form.yy.value,
        //         mm: form.mm.value,
        //         dd: form.dd.value,
        //         hobby: form.hobby.value
        //     }
        //     axios({
        //         url:"/get/axios",
        //         method:"get",
        //         params: data11
        //     }).then((response)=>{
        //         console.log(response.data);
        //     })
        // }

        // 사진업로드 실습
        // function fileupload(){
        //     const formData = new FormData(); //폼데이터에 담을 수 있는 객체 생성
        //     const file = document.getElementById("file");

        //     const id = $('input[name="id"]').val();
        //     const pass = $('input[name="pass"]').val();
        //     const name = $('input[name="name"]').val();
        //     const age = $('input[name="age"]').val();

        //     formData.append("userfile",file.files[0]);
        //     formData.append("id",id);
        //     formData.append("pass",pass);
        //     formData.append("name",name);
        //     formData.append("age",age);
            
        //    axios({ 
        //         headers:{
        //             "Content-Type":"multipart/form-data",
        //         },
        //         url: "/upload",
        //         method: "post",
        //         data: formData
        //     }).then((response)=>{
                
        //         $("div").append(`
        //         <div>아이디:${response.data.body.id}</div>
        //         <div>비밀번호:${response.data.body.pass}</div>
        //         <div>이름:${response.data.body.name}</div>
        //         <div>나이:${response.data.body.age}</div>
        //         <div>프로필사진:<img src="${response.data.path}"></div>`);
        //     })
        // }



            function dynamicForm(){
            const form = document.querySelector("form");
            
            const data11={
                name: form.name.value,
                password: form.password.value
            }

            axios ({
                url:"/post/axios",
                method:"POST",
                data: data11
            }).then((response)=>{
                if(response.data =="로그인 성공"){
                    $("div").remove();
                    $("form").append(`<div style="color:green;">${response.data}</div>`);
                }else{
                    $("div").remove();
                    $("form").append(`<div style="color:red;">${response.data}</div>`);
                }console.log(response.data);
            })
        }
            //     console.log(response.data);


                // $("div").append(`<div>이름:${data11.name}</div>
                // <div>성별:${data11.gender}</div>
                // <div>${data11.yy}년</div>
                // <div>${data11.mm}월</div>
                // <div>${data11.dd}일</div>
                // <div>취미:${data11.inter}</div>`);
            // })

            // axios({
            //     url:"/get/axios",
            //     method:"get", //post
            //     params: data11 //data
            // }).then((response)=>{
            //     console.log(response.data);
            // })
        // }
        //         //ajax사용법
        //     $.ajax({
        //         url: '/get/ajax',
        //         type: "GET",
        //         data: data11,

        //         success: function(data){
        //             $("div").append(`<div>${data.name}</div><div>${data.gender}</div>`);
        //         }
        //     })
        // }
        // console.log("dsdsdsdsd1");
        // setTimeout(function(){
        //     console.log("dsdsdsdsd2");
        // },2000);
    </script>
</body>
</html>